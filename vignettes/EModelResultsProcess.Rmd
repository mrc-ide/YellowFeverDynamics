---
title: "Vignette 5 - Processing Model Results"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Vignette 5 - Processing Model Results}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

This vignette demonstrates how the output of the dynamic yellow fever model functions (see vignette 4) can be processed to produce epidemiological data similar to that produced by real-world surveillance. There are three types of data processed by the package:

-Serological survey data, the proportion of people tested in a chosen age range who test positive for yellow fever antibodies (indicating that they have either recovered from the disease or been vaccinated, with individuals known to have been vaccinated normally excluded from surveys - see below for more on this) [TBA - Link to example publications].
-Annual reported cases and deaths, representing the number of laboratory-confirmed yellow fever cases in a region in a given year and the number which resulted in death. These usually represent a fraction of the actual number of annual yellow fever infections and deaths in a region (in particular, it is usually assumed that infections causing mild or no symptoms are never reported as non-fatal cases cases).
-Annual outbreak occurrence, binary data indicating whether one or more outbreaks (usually defined as one or more lab-confirmed cases) are reported in a region in a given year.

First load the package:

```{r}
library(YellowFeverDynamics)
```

Data is generated as described in vignette 4:

```{r}
input_data <- readRDS(file=paste(path.package("YellowFeverDynamics"),"/exdata/input_data_example.Rds",sep=""))
vacc_data <- input_data$vacc_data[1,,]
pop_data <- input_data$pop_data[1,,]  
model_data <- Full_Model_Run(FOI_spillover=1.0e-8,R0=1.5,vacc_data,pop_data,year0=1940,mode_start=1,n_particles=1,n_threads=1,year_end=2001,year_data_begin=1999,vaccine_efficacy=1.0,start_SEIRV=NULL,dt=1.0)
```



```{r,eval = FALSE}
age_min <- 0
age_max <- 15
years <- c(2000)
vc_factor <- 0
n_particle <- 1
seroprevalence <- sero_calculate(age_min,age_max,years,vc_factor,model_data,n_particle)
```
